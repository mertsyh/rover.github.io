<!DOCTYPE html>
<html lang="tr">
<head>
       <link rel="icon" href="logo.png" type="image/png">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ROVERIUM | Blog</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
<link href="blog.css" rel="stylesheet">
<link href="newsheader.css" rel="stylesheet">
</head>
<body>
    <div class="gradient-bg">
  <span></span>
  <span></span>
  <span></span>
  <span></span>
  <span></span>
</div>

  <header class="header">
  <a href="index.html" class="logo">
    <img src="https://edizos.github.io/RoveriumWeb/images/komple_penege.png">
    İKÜ ROVERIUM
  </a>

  <!-- Hamburger -->
  <div class="menu-toggle" id="menuToggle">
    <span id="first"></span>
    <span></span>
    <span></span>
  </div>

  <nav id="mobileNav">
   <a href="index.html" data-tr="Ana Sayfa" data-en="Home">Ana Sayfa</a>
<a href="gallery.html" data-tr="Galeri" data-en="Gallery">Galeri</a>
<a href="index.html#contact" data-tr="İletişim" data-en="Contact">İletişim</a>
<a href="blog.html" data-tr="Blog" data-en="Blog">Blog</a>
<a href="news.html" data-tr="Haberler" data-en="News">Haberler</a>

  </nav>
</header>

<section id="blog-container"></section>

<!-- Firebase -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
import { getFirestore, collection, query, where, getDocs } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

// --- Firebase config ---
const firebaseConfig = {
  apiKey: "AIzaSyC7wHvnllwQMrM34daOU_V58lNfnOogVYk",
  authDomain: "roverium-4f3db.firebaseapp.com",
  projectId: "roverium-4f3db",
  storageBucket: "roverium-4f3db.firebasestorage.app",
  messagingSenderId: "1063901094879",
  appId: "1:1063901094879:web:6d257de2ee99e7abfe5a6a",
  measurementId: "G-R0EHN6ECNK"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const container = document.getElementById('blog-container');

async function loadPosts() {
  try {
    const postsQuery = query(
      collection(db, "posts"),
      where("published", "==", true)
    );
    const snap = await getDocs(postsQuery);

    if (snap.empty) {
      container.innerHTML = "<p>Henüz yayınlanmış yazı yok.</p>";
      return;
    }

    snap.forEach(docSnap => {
      const data = docSnap.data();
      const createdAt = data.createdAt?.seconds
        ? new Date(data.createdAt.seconds * 1000)
        : (data.createdAt ? new Date(data.createdAt) : new Date());

      const div = document.createElement('div');
      div.className = 'blog-post';
      div.innerHTML = `
        <h3>${data.title}</h3>
        <small>${createdAt.toLocaleDateString()} </small>
        <p>${data.content}</p>
      `;
      container.appendChild(div);
    });

    // Scroll animasyonu
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) entry.target.classList.add('visible');
      });
    }, { threshold: 0.2 });

    document.querySelectorAll('.blog-post').forEach(post => observer.observe(post));
  } catch (err) {
    console.error("Veri çekme hatası:", err);
    container.innerHTML = `<p style="color:red;">Veriler alınırken hata oluştu: ${err.message}</p>`;
  }
}

loadPosts();
</script>
<script src="language.js"></script>

<script>
const menuToggle = document.getElementById("menuToggle");
const mobileNav = document.getElementById("mobileNav");

menuToggle.addEventListener("click", () => {
  mobileNav.classList.toggle("active");
  menuToggle.classList.toggle("active");
});
</script>
</body>
</html>
    